---
title: "é›†åˆæ¼”ç®—ã¨ç¢ºç‡"
author: "Ryo Nakagami"
date: "2024-08-15"
date-modified: last-modified
code-fold: true
comments:
    utterances:
         repo: RyoNakagami/statistics-for-regression-monkey
         label: discussion
---

## é›†åˆæ¼”ç®—

<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
::: {#exr-1 .custom_problem }
<br>

ä»¥ä¸‹ã®äº‹è±¡ã‚’ç°¡å˜ã«è¡¨ã›ï¼š

$$
\begin{align}
&(A \cup B) \cup (C \cup B^c)\tag{a}\\[4pt]
&A \cap (B \backslash A)\tag{b}\\[4pt]
&(A\cap B) \cup (A \backslash B)\tag{c}\\[4pt]
&(A\cup B) \cap (A \cup B^c)\tag{d}\\[4pt]
&(A\cup B) \cap (A^c \cup B) \cap (A \cup B^c)\tag{e}\\[4pt]
&A\cup (B - (A\cap B))\cup (C - (A\cap C))\tag{f}
\end{align}
$$

:::


</div>

::: {.callout-note collapse="true" icon=false}
## Solution

<strong > &#9654;&nbsp; (a)</strong>

çµåˆæ³•å‰‡ã‚ˆã‚Š

$$
\begin{align*}
(A\cup C) \cup (B \cup B^c) = (A\cup C) \cup \Omega = \Omega
\end{align*}
$$

<strong > &#9654;&nbsp; (b)</strong>

çµåˆæ³•å‰‡ã‚ˆã‚Š

$$
\begin{align*}
A \cap (B \cap A^c) = (A\cap A^c) \cap B = \emptyset \cap B = \emptyset
\end{align*}
$$

<strong > &#9654;&nbsp; (c)</strong>

åˆ†é…æ³•å‰‡ã‚ˆã‚Š

$$
\begin{align*}
(A\cap B) \cup (A \cap B^c) = A \cap (B \cup B^c) = A\cap \Omega = A
\end{align*}
$$


<strong > &#9654;&nbsp; (d)</strong>

åˆ†é…æ³•å‰‡ã‚ˆã‚Š

$$
(A\cup B) \cap (A \cup B^c) = A \cup (B\cap B^c) = A\cup \emptyset = A
$$

<strong > &#9654;&nbsp; (e)</strong>

çµåˆæ³•å‰‡ã¨åˆ†é…æ³•å‰‡ã‚ˆã‚Š

$$
\begin{align*}
&(A\cup B) \cap (A^c \cup B) \cap (A \cup B^c)\\
&=((A\cup B) \cap (A^c \cup B)) \cap (A \cup B^c)\\
&= (B\cup (A\cap A^c))\cap (A \cup B^c)\\
&= B\cap (A \cup B^c)\\
&= (A\cap B) \cup (B\cap B^c)\\
&= (A\cap B)
\end{align*}
$$

<strong > &#9654;&nbsp; (f)</strong>

$$
\begin{align*}
B - (A\cap B) &= B \cap (A\cap B)^c\\
              &= (A^c \cap B) \cup (B \cap B^c)\\
              &= (A^c \cap B)
\end{align*}
$$

ã—ãŸãŒã£ã¦ï¼Œ

$$
\begin{align*}
&A\cup (B - (A\cap B))\cup (C - (A\cap C))\\
&= A\cup (A^c \cap B) \cup ((A^c \cap C))\\
&= A\cup (A^c \cap B) \cup ((A^c \cap C)) \cup A\\
&= (\Omega \cap (A\cup B)) \cup (\Omega \cap (A\cup C))\\
&= (A\cup B) \cup ((A\cup C))\\
&= A\cup B \cup C
\end{align*}
$$


:::

<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
::: {#exr-1 .custom_problem }
<br>

A, BãŒäº‹è±¡ã®ã¨ã, 
$$
A\cup B = (A\cap B) \cup (A\cap B^c) \cup (A^c \cap B) \tag{a}
$$

ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºã‹ã‚ã‚ˆï¼ã¾ãŸã¯ï¼Œ$A\cap B, A\cap B^c , A^c \cap B$ ã¯äº’ã„ã«æ’åã§ã‚ã‚‹ã“ã¨ã‚’èª¿ã¹ã‚ˆï¼

:::

</div>

::: {.callout-note collapse="true" icon=false}
## Solution

<strong > &#9654;&nbsp; (a)ã®æˆç«‹ã«ã¤ã„ã¦ </strong>

$$
\begin{align*}
A &= A\cap \Omega\\
  &= A\cap (B\cup B^c)\\
  &= (A\cap B) \cup (A\cap B^c)
\end{align*}
$$

åŒæ§˜ã«ï¼Œ$B = (A\cap B) \cup (A^c\cap B)$ . å¾“ã£ã¦ï¼Œ

$$
\begin{align*}
A \cup B &= ((A\cap B) \cup (A^c\cap B)) \cup (A\cap B) \cup (A\cap B^c)\\
         &= (A\cap B) \cup (A^c\cap B) \cup (A\cap B^c)
\end{align*}
$$


<strong > &#9654;&nbsp; å„äº‹è±¡ã®æ’åæ€§ã«ã¤ã„ã¦</strong>

$$
\begin{align*}
(A\cap B) &\subset B\\
(A\cap B^c) &\subset B^c
\end{align*}
$$

ã‚ˆã‚Šï¼Œ$(A\cap B) \cap (A\cap B^c) = \emptyset$. åŒæ§˜ã«

$$
\begin{align*}
(A\cap B) &\subset A\\
(A^c\cap B) &\subset A^c\\
(A\cap B^c) &\subset A
\end{align*}
$$

å¾“ã£ã¦ï¼Œ$(A\cap B) \cap (A^c\cap B) = \emptyset, (A\cap B^c) \cap (A^c\cap B) = \emptyset$ ã§ã‚ã‚‹ã“ã¨ãŒã‚ã˜ã‚ƒryï¼

:::


<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
::: {#exr-1 .custom_problem }
<br>

$A, B$ ã‚’ç©ºé›†åˆã§ã¯ãªã„é›†åˆã¨ã—ãŸã¨ãï¼Œä»¥ä¸‹ã®é–¢ä¿‚å¼ã¯æ­£ã—ã„ã¨è¨€ãˆã‚‹ã‹ï¼Ÿ

$$
(A\cup B) - A = B
$$

:::

</div>

::: {.callout-note collapse="true" icon=false}
## Solution
$$
A\cup B = A \cup (B - A)
$$

ã¨äº’ã„ã«äº¤ã‚ã‚Šã®ãªã„é›†åˆã®Unionã¨è¡¨è¨˜ã§ãã‚‹ã®ã§

$$
A\cup B - A = B - A \subset B
$$

$A \cap B \neq \emptyset$ ã®ã¨ãï¼Œ$B \not\subset B-A$, ã¤ã¾ã‚Š $B - A \neq B$ã¨ãªã‚‹ã®ã§é–¢ä¿‚å¼ã¯æ­£ã—ããªã„ï¼
:::


<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
::: {#exr-1 .custom_problem }
<br>

$A, B, C$ ã‚’ç©ºé›†åˆã§ã¯ãªã„é›†åˆã¨ã—ãŸã¨ãï¼Œä»¥ä¸‹ã®é–¢ä¿‚å¼ã¯æ­£ã—ã„ã¨è¨€ãˆã‚‹ã‹ï¼Ÿ

$$
(A\cup B) - C = A- (B - C)
$$

:::

</div>

::: {.callout-note collapse="true" icon=false}
## Solution

$$
\begin{align*}
\text{LHS} &= (A\cup B) \cap C^c\\
           &= (A\cap C^c) \cup (B \cap C^c)\\
\Rightarrow& ((A\cap C^c) \cup (B \cap C^c))\cap C = \emptyset
\end{align*}
$$

$$
\begin{align*}
\text{RHS} &= A\cap (B \cap C^c)^c\\
           &= A\cap (B^c \cup C)\\
           &= (A\cap B^c) \cup (A\cap C)\\
\Rightarrow& ((A\cap B^c) \cup (A\cap C)) \cap C \neq \emptyset
\end{align*}
$$

ã—ãŸãŒã£ã¦ï¼Œ$\text{LHS} \neq \text{RHS}$ã¨ãªã‚Šï¼Œä¸ãˆã‚‰ã‚ŒãŸé–¢ä¿‚å¼ã¯æ­£ã—ããªã„ï¼

:::

<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
::: {#exr-1 .custom_problem }
<br>

$A, B, C$ ã‚’ç©ºé›†åˆã§ã¯ãªã„é›†åˆã¨ã—ãŸã¨ãï¼Œä»¥ä¸‹ã®é–¢ä¿‚å¼ã‚’ç¤ºã›

$$
A\cap B \cap C \subset (A\cap B) \cup (B\cap C) \cup (A\cap C)
$$

:::

</div>

::: {.callout-note collapse="true" icon=false}
## Solution

$$
\begin{align*}
A\cap B \cap C &\subset A\cap B \subset (A\cap B) \cup (B\cap C) \cup (A\cap C)
\end{align*}
$$


:::


<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
::: {#exr-poker-game .custom_problem }
**ãƒãƒ¼ã‚«ãƒ¼ã¨é›†åˆ**
<br>

ãƒãƒ¼ã‚«ãƒ¼ã‚’è€ƒãˆã‚‹ï¼ï¼•æšã®ã‚«ãƒ¼ãƒ‰ã®çµ„åˆã›å…¨ä½“ã‚’ $\Omega$ ã¨ã—ãŸã¨ãï¼Œä»¥ä¸‹ã®äº‹è±¡ã®åŒ…å«é–¢ä¿‚ã‚’èª¿ã¹ã‚ˆ

- äº‹è±¡A: åŒã˜æ•°å­—ã®ã‚«ãƒ¼ãƒ‰ãŒï¼’æšä»¥ä¸Šå­˜åœ¨ã™ã‚‹çµ„ã¿åˆã‚ã›
- äº‹è±¡B: åŒã˜æ•°å­—ã®ã‚«ãƒ¼ãƒ‰ãŒï¼“æšä»¥ä¸Šå­˜åœ¨ã™ã‚‹çµ„ã¿åˆã‚ã›
- äº‹è±¡C: åŒã˜æ•°å­—ã®ã‚«ãƒ¼ãƒ‰ãŒï¼”æšä»¥ä¸Šå­˜åœ¨ã™ã‚‹çµ„ã¿åˆã‚ã›
- äº‹è±¡D: åŒã˜æ•°å­—ã®ã‚«ãƒ¼ãƒ‰ãŒï¼’æšä»¥ä¸Šã‚ã‚‹ã®ãŒï¼’ç¨®é¡ã‚ã‚‹çµ„ã¿åˆã‚ã›
- äº‹è±¡E: ãƒ•ãƒ«ãƒã‚¦ã‚¹
- äº‹è±¡F: ãƒ¯ãƒ³ãƒšã‚¢
- äº‹è±¡G: ãƒ„ãƒ¼ãƒšã‚¢
- äº‹è±¡H: ã‚¹ãƒªãƒ¼ã‚«ãƒ¼ã‚º

:::

</div>

::: {.callout-note collapse="true" icon=false}
## Solution

$$
\begin{align*}
C &\subset B \subset A\\
D &\subset A\\
E &= B \cap D\\
F &= (A - B) \cap (A - D) = A \cap (B\cup D)^c \\
G &= D - B\\
H &= (B - C) \cap (B - D) = B \cap (C \cup D)^c\\
B - D &= B - E\\
D - B &= D - E\\
\end{align*}
$$

:::


<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
::: {#exr- .custom_problem }
<br>

ä¸Šè¿°ã®[ãƒãƒ¼ã‚«ãƒ¼ã¨é›†åˆå•é¡Œ](#exr-poker-game)ã«ãŠã„ã¦ï¼Œ$\Omega$ åŠã³å„ $A$~$H$ äº‹è±¡ã®å€‹æ•°ï¼ˆï¼ã‚«ãƒ¼ãƒ‰ã®çµ„ã¿åˆã‚ã›æ•°ï¼‰ã‚’æ±‚ã‚ã‚ˆï¼

:::

</div>

::: {.callout-note collapse="true" icon=false}
## Solution

ä»¥ä¸‹ã§ã¯ $\sharp(\cdot)$ ã§é›†åˆã®å€‹æ•°ã‚’è¡¨ã™ã¨ã™ã‚‹ï¼

$$
\begin{align*}
\sharp(\Omega) = {}_{52}C_5 = 2598960
\end{align*}
$$

$\sharp(A) = \sharp(\Omega) - \sharp(A^c)$ ãªã®ã§

$$
\begin{align*}
&\sharp(A^c) = {}_{13}C_5 \times 4^5 = 1317888\\
\Rightarrow &\sharp(A) = 2598960 - 1317888 = 1281072
\end{align*}
$$

$C$ ã®å€‹æ•°ã¯ï¼Œäº‹å®Ÿä¸Šãƒ•ã‚©ãƒ¼ã‚«ãƒ¼ã‚ºã®å€‹æ•°ã¨åŒã˜ãªã®ã§

$$
\sharp(C) = {}_{13}C_1 \times 48 = 624
$$

ãƒ•ãƒ«ãƒã‚¦ã‚¹ $E$ ã®å€‹æ•°ã¯

$$
\begin{align*}
\sharp(E) &= {}_{13}C_2 \times 2 {}_{4}C_3 \times 2 {}_{4}C_2\\
          &= 3744
\end{align*}
$$

ãƒ„ãƒ¼ãƒšã‚¢ $G$ ã®å€‹æ•°ã¯, ãƒšã‚¢ã¨ã—ã¦é¸ã°ã‚ŒãŸæ•°å€¤ã®ã‚«ãƒ¼ãƒ‰ï¼˜æšåˆ†ã‚’å¼•ã„ãŸ44æšã®ä¸­ã‹ã‚‰ãƒ‰ãƒ™ã‚«ãƒ¼ãƒ‰ã‚’é¸ã¶å¿…è¦ãŒã‚ã‚‹ã®ã§

$$
\begin{align*}
\sharp(G) &= {}_{13}C_2 \times {}_{4}C_2 \times {}_{4}C_2 \times 44\\
          &= 123552
\end{align*}
$$

ã‚¹ãƒªãƒ¼ã‚«ãƒ¼ã‚º $H$ ã¯ $H = B \cap (C \cup E)^c = (B - C) - E$ ã‹ã¤ $E \subset (B - C)$ ã¨ãªã‚‹ã®ã§ï¼Œ

$$
\begin{align*}
&\sharp(B-C) = {}_{13}C_1 \times {}_{4}C_3 \times 48 = 58656\\
\Rightarrow& \sharp(H) = 58656 - 3744 = 54912
\end{align*}
$$

ã¾ãŸï¼ŒåŒæ§˜ã®è­°è«–ã‚ˆã‚Š

$$
\begin{align*}
\sharp(B) = \sharp(B-C) + \sharp(C) = 58656 + 624 = 59280
\end{align*}
$$

ãƒ¯ãƒ³ãƒšã‚¢é›†åˆ $F$ ã¯ é›†åˆ $A$ ã‹ã‚‰ ãƒ„ãƒ¼ãƒšã‚¢ $G$, ã‚¹ãƒªãƒ¼ã‚«ãƒ¼ã‚º $H$, ãƒ•ã‚©ãƒ¼ã‚«ãƒ¼ã‚º $C$, ãƒ•ãƒ«ãƒã‚¦ã‚¹ $E$ ã‚’å¼•ã‘ã°è‰¯ã„ã®ã§

$$
\sharp(F) = 1281072 - 123552 - 54912 - 624 - 3744 = 1098240
$$

$D - E = G$ åŠã³ $E \cap G = \emptyset$ ã¨ã„ã†é–¢ä¿‚ã‹ã‚‰ $\sharp(D) = \sharp(E) + \sharp(G)$ ã¨ãªã‚‹ï¼å¾“ã£ã¦ï¼Œ

$$
\sharp(D) = 3744 + 123552 = 127296
$$

<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
<strong >ğŸ“˜ REMARKS</strong> <br>

çµ„ã¿åˆã‚ã›ã§è¡¨ã•ã‚ŒãŸå„æ¨™æœ¬ç‚¹ã¯åŒæ§˜ã«ç¢ºã‹ã‚‰ã—ã„ã¨è€ƒãˆã‚‰ã‚Œã‚‹ã®ã§ï¼Œå„äº‹è±¡ã®ç¢ºç‡ã¯

$$
\Pr(A) = \frac{\sharp(A)}{\sharp(\Omega)}
$$

ã§è€ƒãˆã‚‹ã“ã¨ãŒã§ãã‚‹ï¼

ã¾ãŸï¼Œãƒ¯ãƒ³ãƒšã‚¢ $F$ å€‹æ•°ã®åˆ¥è§£ã¨ã—ã¦ï¼Œãƒšã‚¢ã®æ•°å­—ã‚’ä¸€ã¤é¸ã‚“ã§ã‹ã‚‰æ®‹ã‚Šã¯ãƒãƒ©ãƒãƒ©ã®æ•°å­—ã¨ãªã‚‹ã“ã¨ã¨ã‚‚è€ƒãˆã‚‰ã‚Œã‚‹ã®ã§

$$
\sharp(F) = _{13}C_1 \times _{4}C_2 \times _{12}C_3 \times 4^3 = 1098240
$$

ã¨æ±‚ã‚ã¦ã‚‚è‰¯ã„ï¼

</div>


:::

<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
::: {#exr- .custom_problem }
<br>

Rã‚’ã‚‚ã¡ã„ã¦ï¼Œãƒ¯ãƒ³ãƒšã‚¢ï¼Œãƒ„ãƒ¼ãƒšã‚¢ï¼Œãƒ•ãƒ«ãƒã‚¦ã‚¹ï¼Œã‚¹ãƒªãƒ¼ã‚«ãƒ¼ã‚ºï¼Œãƒ•ã‚©ãƒ¼ã‚«ãƒ¼ã‚ºã®å ´åˆã®æ•°ã‚’ç¢ºã‹ã‚ã‚ˆï¼

:::

</div>

::: {.callout-note collapse="true" icon=false}
## Solution

```{r}
#| code-fold: false
library(combinat)
library(parallel)

num_cores <- 20

# Generate the suits and ranks
suits <- c("H", "D", "H", "S")
ranks <- c("2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A")

# Create the deck of cards
deck <- paste(rep(ranks, each = 4), suits, sep = "-")

# Create all combinations
all_hands <- combn(deck, 5, simplify = FALSE)

# Function to check the rank frequency in a hand
check_hand <- function(hand) {
  hand_ranks <- sapply(strsplit(hand, "-"), `[`, 1)
  rank_table <- table(hand_ranks)
  return(rank_table)
}

hand_types <- mclapply(all_hands, function(hand) {
  rank_table <- check_hand(hand)
  
  if (max(rank_table) == 4) {
    return("Four Cards")
  } else if (max(rank_table) == 3 && any(rank_table == 2)) {
    return("Full House")
  } else if (max(rank_table) == 3) {
    return("Three Cards")
  } else if (sum(rank_table == 2) == 2) {
    return("Two Pair")
  } else if (any(rank_table == 2)) {
    return("One Pair")
  } else {
    return("High Card")
  }
}, mc.cores = num_cores)

# Summary of hand types
table(unlist(hand_types))
```

:::


## äº‹è±¡ã¨ç¢ºç‡

<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
::: {#exr-1 .custom_problem }
<br>

$A\subset B$ ãªã‚‹ç¢ºç‡äº‹è±¡A, Bã«å¯¾ã—ã¦ $\Pr(A)\leq \Pr(B)$ ã‚’ç¤ºã›


:::

</div>

::: {.callout-note collapse="true" icon=false}
## Solution

$B = A^c \cap B \cup A \cap B$ ãŠã‚ˆã³ $(A^c \cap B) \cap (A \cap B) = \emptyset$ ã‚ˆã‚Š

$$
\begin{align*}
\Pr(B) &= \Pr(A^c \cap B) + \Pr(A \cap B)\\
       &\geq \Pr(A \cap B)
\end{align*}
$$

$A\subset B$ ã‚ˆã‚Š $A \cap B = A$. å¾“ã£ã¦ï¼Œ

$$
\begin{align*}
\Pr(B) &= \Pr(A^c \cap B) + \Pr(A \cap B)\\
       &\geq \Pr(A \cap B) = \Pr(A)
\end{align*}
$$

ã‚ˆã£ã¦ï¼Œ$\Pr(A)\leq \Pr(B)$ ãŒæˆç«‹ã™ã‚‹ï¼

:::

<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
::: {#exr-1 .custom_problem }
<br>

ç¢ºç‡äº‹è±¡ $A_1, A_2, \cdots, A_n$ ã«ã¤ã„ã¦

$$
\Pr(\bigcup_{i=1}^n A_i) \leq \sum_{i=1}^n\Pr(A_i)
$$

ãŒæˆç«‹ã™ã‚‹ã“ã¨ã‚’ç¤ºã›ï¼

:::

</div>

::: {.callout-note collapse="true" icon=false}
## Solution - æ•°å­¦çš„å¸°ç´æ³•

æ•°å­¦çš„å¸°ç´æ³•ã‚’ç”¨ã„ã„ã¦ç¤ºã™. $n=1$ ã®ã¨ãã¯ï¼Œ

$$
\Pr(A_{1}) \leq \Pr(A_{1})
$$

ã‚ˆã‚Šæˆç«‹ï¼$n=2$ ã®ã¨ãã‚‚ï¼Œ

$$
\Pr(A_{1} \cup A_{2}) = \Pr(A_{1}) + \Pr(A_{2}) - \Pr(A_{1}\cap A_{2}) \leq \Pr(A_{1}) + \Pr(A_{2})
$$

ã‚ˆã‚Šæˆç«‹ï¼$n$ ã®ã¨ãæˆã‚Šç«‹ã¤ã¨ä»®å®šã™ã‚‹ã¨ï¼Œä»®å®šã‚ˆã‚Š $\Pr(\bigcup_{i=1}^n A_i)\leq \sum_{i=1}^n\Pr(A_i)$.

$$
\begin{align*}
\Pr(\bigcup_{i=1}^{n+1} A_i) &= \Pr((\bigcup_{i=1}^n A_i)\cup A_{n+1})\\
                             &\leq \Pr(\bigcup_{i=1}^n A_i) + \Pr(A_{n+1})\\
                             &\leq \sum_{i=1}^n\Pr(A_i) + \Pr(A_{n+1})\\
                             &= \sum_{i=1}^{n+1}\Pr(A_i)
\end{align*}
$$

ä»¥ä¸Šã‚ˆã‚Šï¼Œ$n+1$ ã®ã¨ãã«ã‚‚æˆã‚Šç«‹ã¤ã“ã¨ãŒã‚ã‹ã‚‹ï¼

:::


::: {.callout-note collapse="true" icon=false}
## Solution - æ’åäº‹è±¡ã®å®šç¾©ã‚’ç”¨ã„ãŸè¨¼æ˜

$B_1 = A_1, B2 = A_2 \cap B_1^c, \cdots, B_i = A_i \cap (B_1\cup \cdots \cup B_{i-1})^c$ ã¨å®šç¾©ã™ã‚‹ï¼
ã“ã®ã¨ãï¼Œ$B_i \cap B_j = \emptyset$ ã§

$$
\bigcup_{i} A_i = \bigcup_{i} B_i
$$

ãŒæˆç«‹ã™ã‚‹ã“ã¨ã‚’ã¾ãšç¢ºã‹ã‚ã‚‹ï¼

<strong > &#9654;&nbsp; æ’åæ€§</strong>

$i < j$ ã«ã¤ã„ã¦

$$
\begin{align*}
B_j &= A_j \cap (B_1 \cup \cdots \cup B_i \cup \cdots B_{j-1})^c\\
    &\subset (B_1 \cup \cdots \cup B_i \cup \cdots B_{j-1})^c\subset B_i^c
\end{align*}
$$

å¾“ã£ã¦ï¼Œ$B_i \cap B_j = \emptyset$

<strong > &#9654;&nbsp; äº‹è±¡ã®å’Œ</strong>

$B_i \subset A_i$ ã‚ˆã‚Š

$$
\begin{align*}
\bigcup B_i \subset \bigcup A_i
\end{align*}
$$

ã¤ãã«ï¼Œ$w\in \bigcup A_i$ ã®ã¨ãï¼Œ$w \in A_1$ ãªã‚‰ã° $w\in B_1$ ãªã®ã§ $w \in \bigcup B_i$.
$w \in A_i \ \ (i > 1)$ ã®ã¨ãã¯ï¼Œ$B_i = A_i \cap (B_1 \cup \cdots \cup B_{i-1})^c$ ã§ã‚ã‚‹ã“ã¨ã«ç•™æ„ã™ã‚‹ã¨ï¼Œ

- $w \in (B_1 \cup \cdots \cup B_{i-1})^c$ ãªã‚‰ã° $w\in B_i$ ã¨ãªã‚Š, $w \in \bigcup B_i$.
- $w \not \in (B_1 \cup \cdots \cup B_{i-1})^c$ ãªã‚‰ã° $w \in B_1 \cup \cdots \cup B_{i-1}$ ã¨ãªã‚Š, $w \in  \bigcup B_i$

å¾“ã£ã¦ï¼Œã„ãšã‚Œã®å ´åˆã§ã‚‚ $\bigcup A_i \subset \bigcup B_i$ ãŒæˆç«‹ã™ã‚‹ã®ã§

$$
\bigcup B_i = \bigcup A_i
$$

ã¨ãªã‚‹ï¼

<strong > &#9654;&nbsp; Conclusion</strong>

$B_i \subset A_i$ ã‚ˆã‚Š $\Pr(B_i) \leq \Pr(A_i)$ ã¯è‡ªæ˜ï¼ã¾ãŸä¸Šè¨˜ã¨åˆã‚ã›ã‚‹ã¨

$$
\begin{align*}
\Pr(\bigcup_{i=1}^n A_i) &= \Pr(\bigcup_{i=1}^n B_i)\\
                         &= \sum_i \Pr(B_i)\\
                         &\leq \sum_i \Pr(A_i)
\end{align*}
$$

ã¨ãªã‚Šé¡Œæ„ã¯ç¤ºã›ãŸï¼

:::



<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
::: {#exr-1 .custom_problem }
<br>

A, B, Cã‚’äº‹è±¡ã¨ã™ã‚‹ï¼æ¬¡ã®äº‹è±¡ã‚’å¼ã§è¡¨ã›

1. A,B,Cã®ã†ã¡Aã ã‘ãŒç™ºç”Ÿã™ã‚‹
2. A,B,Cã®ã†ã¡å°‘ãªãã¨ã‚‚ï¼’ã¤ãŒèµ·ãã‚‹
3. A,B,Cã©ã‚Œã‚‚èµ·ããªã„
4. A,B,Cã®ã†ã¡ï¼Œï¼’ã¤ä»¥ä¸Šã®äº‹è±¡ã¯åŒæ™‚ã«ã¯èµ·ããªã„
5. A,B,Cã®ã†ã¡ï¼Œï¼“ã¤å…¨éƒ¨èµ·ãã‚‹ã‹ï¼Œã©ã‚Œã‚‚èµ·ããªã„ã‹ã®ã„ãšã‚Œã‹

:::

</div>

::: {.callout-note collapse="true" icon=false}
## Solution

<strong > &#9654;&nbsp; (1) A,B,Cã®ã†ã¡Aã ã‘ãŒç™ºç”Ÿã™ã‚‹</strong>

$$
A - (B\cup C) = A \cap B^c \cap C^c
$$

<strong > &#9654;&nbsp; (2) A,B,Cã®ã†ã¡å°‘ãªãã¨ã‚‚ï¼’ã¤ãŒèµ·ãã‚‹</strong>

$$
(A\cap B) \cup (B\cap C) \cup (A\cap C)
$$

<strong > &#9654;&nbsp; (3) A,B,Cã©ã‚Œã‚‚èµ·ããªã„</strong>

$$
(A\cup B\cup C)^c = A^c \cap B^c \cap C^c
$$

<strong > &#9654;&nbsp; (4) A,B,Cã®ã†ã¡ï¼Œï¼’ã¤ä»¥ä¸Šã®äº‹è±¡ã¯åŒæ™‚ã«ã¯èµ·ããªã„</strong>

(2)ã®ä½™é›†åˆã«ç›¸å½“ã™ã‚‹ã®ã§

$$
\begin{align*}
&(A - (B\cup C)) \cup (B - (A\cup C)) \cup (C - (A\cup B)) \cup (A^c \cap B^c \cap C^c)\\
&=((A\cap B) \cup (B\cap C) \cup (A\cap C))^c
\end{align*}
$$

Rã§RHSã¨LHSãŒä¸€è‡´ã™ã‚‹ã‹ã‚’ä»¥ä¸‹ç¢ºèªã—ã¾ã™ï¼


```{r}
library(ggVennDiagram)
library(ggplot2)
set.seed(42)

# genesãŒsample space omegaã«ç›¸å½“
genes <- paste("gene",1:1000,sep="")
x <- list(A=sample(genes,300),
          B=sample(genes,300),
          C=sample(genes,300))

ggVennDiagram(x)

# RHS setoperation
rhs_set <- list(AB_inter=intersect(x$A, x$B),
                BC_inter=intersect(x$B, x$C),
                AC_inter=intersect(x$A, x$C))
union_set <- Reduce(union, rhs_set)
rhs_answer <- setdiff(genes, union_set)

# LHS setoperation
y <- list(A=setdiff(x$A, union(x$B, x$C)),
          B=setdiff(x$B, union(x$A, x$C)),
          C=setdiff(x$C, union(x$A, x$B)),
          D=setdiff(genes, Reduce(union, x)))
lhs_answer <- Reduce(union, y)
```

çµæœã‚’ç¢ºèªã—ã¦ã¿ã‚‹ã¨

```{r}
#| code-fold: false
# visualize
ggVennDiagram(list(LHS=lhs_answer, RHS=rhs_answer))
setequal(lhs_answer, rhs_answer)
```

ä¸Šè¨˜ã®ã‚ˆã†ã«çµæœãŒä¸€è‡´ã™ã‚‹ã“ã¨ã‚’ç¢ºã‹ã‚ã‚‰ã‚Œã¾ã—ãŸï¼



<strong > &#9654;&nbsp; (5) A,B,Cã®ã†ã¡ï¼Œï¼“ã¤å…¨éƒ¨èµ·ãã‚‹ã‹ï¼Œã©ã‚Œã‚‚èµ·ããªã„ã‹ã®ã„ãšã‚Œã‹</strong>

$$
(A\cap B\cap C) \cup (A^c \cap B^c \cap C^c)
$$


:::



<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
::: {#exr- .custom_problem }
<br>
3ã¤ã®ãƒœãƒ¼ãƒ«a,b,cã‚’ï¼“ã¤ã®ç®±ã®ä¸­ã«åˆ†é…ã™ã‚‹ã¨ã„ã†å®Ÿé¨“ã‚’è€ƒãˆã‚‹ï¼ã“ã®å®Ÿé¨“ã®çµæœï¼Œä¾‹ãˆã°ç¬¬ï¼‘ã®ç®±ã«ï¼“ã¤ã¨ã‚‚å…¥ã£ãŸã¨ãã«ã¯

$$
[abc|\emptyset|\emptyset]
$$

ã¨è¡¨è¨˜ã™ã‚‹ã¨ã™ã‚‹ï¼ã“ã®ã¨ãï¼Œã™ã¹ã¦ã®æ¨™æœ¬ç‚¹ã¯ä½•é€šã‚Šå­˜åœ¨ã™ã‚‹ã‹ï¼Ÿ

:::

</div>


::: {.callout-note collapse="true" icon=false}
## Solution

ï¼“ã¤ã®ãƒœãƒ¼ãƒ«ã«ã¤ã„ã¦ï¼“ã¤ã®ã‚¢ã‚µã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆå…ˆãŒãã‚Œãã‚Œè€ƒãˆã‚‰ã‚Œã‚‹ã®ã§ï¼Œ

$$
3^3 = 27 \text{é€šã‚Š}
$$


:::

<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
::: {#exr- .custom_problem }
<br>
åŒºåˆ¥ã§ããªã„3ã¤ã®ãƒœãƒ¼ãƒ«ã‚’åŒºåˆ¥ã§ãã‚‹ï¼“ã¤ã®ç®±ã®ä¸­ã«åˆ†é…ã™ã‚‹ã¨ã„ã†å®Ÿé¨“ã‚’è€ƒãˆã‚‹ï¼ã“ã®å®Ÿé¨“ã®çµæœï¼Œ

- ç¬¬ï¼‘ã®ç®±ã«ï¼“ã¤ã¨ã‚‚å…¥ã£ãŸã¨ãã«ã¯ $[3,0,0]$
- ç¬¬ï¼‘ã®ç®±ã«2ã¤, ç¬¬ï¼’ã®ç®±ã«ï¼‘ã¤å…¥ã£ãŸã¨ãã«ã¯ $[2,1,0]$

ã¨è¡¨è¨˜ã™ã‚‹ã¨ã™ã‚‹ï¼ã“ã®ã¨ãï¼Œã™ã¹ã¦ã®æ¨™æœ¬ç‚¹ã¯ä½•é€šã‚Šå­˜åœ¨ã™ã‚‹ã‹ï¼Ÿ

:::

</div>


::: {.callout-note collapse="true" icon=false}
## Solution

åŒºåˆ¥ã§ããªã„ãƒœãƒ¼ãƒ«ï¼“ã¤ã«å¯¾ã—ã¦ï¼Œä¸¡ç«¯ã‚’å«ã‚€ãƒœãƒ¼ãƒ«ã®é–“ï¼”ã¤ã®å€™è£œã‹ã‚‰ä»•åˆ‡ã‚Šã‚’ï¼’ã¤é¸ã¶å•é¡Œã¨åŒã˜ã¿ãªã›ã‚‹ã®ã§
ï¼”ã¤ã‹ã‚‰ï¼’ã¤é‡è¤‡ã‚ã‚Šã®çµ„ã¿åˆã‚ã›ã‚’é¸ã¶å•é¡Œ, ${}_4H_2$ ã¨è€ƒãˆã‚‹ã“ã¨ãŒã§ãã‚‹ï¼

ã—ãŸãŒã£ã¦ï¼Œ

$$
\begin{align*}
{}_4H_2 = {}_{4+2-1}C_2 = 10\text{é€šã‚Š}
\end{align*}
$$


:::

<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
::: {#exr- .custom_problem }
<br>
åŒºåˆ¥ã§ããªã„3ã¤ã®ãƒœãƒ¼ãƒ«ã‚’åŒºåˆ¥ã§ãã‚‹ï¼“ã¤ã®ç®±ã®ä¸­ã«åˆ†é…ã™ã‚‹ã¨ã„ã†å®Ÿé¨“ã‚’è€ƒãˆã‚‹ï¼ã“ã®å®Ÿé¨“ã®çµæœï¼Œ
ç¬¬ï¼‘ã¨ç¬¬ï¼’ã®ç®±ãŒç©ºã§ã¯ãªã„ç¢ºç‡ã‚’æ±‚ã‚ã‚ˆï¼

:::

</div>


::: {.callout-note collapse="true" icon=false}
## Solution

$[2, 1, 0], [1, 1, 1], [1, 2, 0]$ãŒæ¡ä»¶ã‚’æ¨™æœ¬ç‚¹ã¨ãªã‚Šã“ã¨ã‹ã‚‰ï¼Œå¤šé …åˆ†å¸ƒã®å•é¡Œã®å•é¡Œã¨è€ƒãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼

$$
\begin{align*}
P((2, 1, 0)) &= \frac{3!}{2!1!}\left(\frac{1}{3}\right)^2\left(\frac{1}{3}\right)^1\\
P((1, 1, 1)) &= \frac{3!}{1!1!1!}\left(\frac{1}{3}\right)\left(\frac{1}{3}\right)\left(\frac{1}{3}\right)\\
P((1, 2, 0)) &= \frac{3!}{1!2!}\left(\frac{1}{3}\right)^1\left(\frac{1}{3}\right)^2
\end{align*}
$$

ãã‚Œãã‚Œã®äº‹è±¡ã¯æ’åãªã®ã§ï¼Œå’Œã‚’å–ã‚‹ã“ã¨ã§ç¬¬ï¼‘ã¨ç¬¬ï¼’ã®ç®±ãŒç©ºã§ã¯ãªã„ç¢ºç‡ãŒæ±‚ã¾ã‚Šã¾ã™ï¼ã—ãŸãŒã£ã¦ï¼Œ

$$
P(\text{ç¬¬ï¼‘ã¨ç¬¬ï¼’ã®ç®±ãŒç©ºã§ã¯ãªã„ç¢ºç‡})=\frac{4}{9}
$$


<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:gray;'>
<strong style="color:red">WARNING !</strong> <br> 

- æ¨™æœ¬ç‚¹ $[2, 1, 0], [1, 1, 1], [1, 2, 0]$, æ¨™æœ¬ç©ºé–“ã®è¦ç´ æ•°10é€šã‚Šã¨ã„ã†ã¨ã“ã‚ã‹ã‚‰ï¼Œ$4/10=0.4$ã¨è¨ˆç®—ã™ã‚‹ã“ã¨ã¯ã§ããªã„
- ã€Œ**æ¨™æœ¬ç‚¹ãŒã™ã¹ã¦åŒç¨‹åº¦ã«ç¢ºã‹ã‚‰ã—ã„**ã€ã¨ã„ã†ä»®å®šã‚’æº€ãŸã—ã¦ã„ãªã„ã®ãŒç†ç”±

</div>

:::


<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
::: {#exr- .custom_problem }
<br>
ä¸Šã¨åŒæ§˜ã«åŒºåˆ¥ã§ããªã„3ã¤ã®ãƒœãƒ¼ãƒ«ã‚’åŒºåˆ¥ã§ãã‚‹ï¼“ã¤ã®ç®±ã®ä¸­ã«åˆ†é…ã™ã‚‹ã¨ã„ã†å®Ÿé¨“ã‚’è€ƒãˆã‚‹ï¼ã“ã®å®Ÿé¨“ã®çµæœï¼Œ
ç¬¬ï¼‘ã®ç®±ã«ï¼‘ã¤ä»¥ä¸Šã®ãƒœãƒ¼ãƒ«ãŒå…¥ã£ã¦ã„ã‚‹ç¢ºç‡ã‚’æ±‚ã‚ã‚ˆ

:::

</div>

::: {.callout-note collapse="true" icon=false}
## Solution

ã€Œç¬¬ï¼‘ã®ç®±ã«ï¼‘ã¤ä»¥ä¸Šã®ãƒœãƒ¼ãƒ«ãŒå…¥ã£ã¦ã„ã‚‹ã€ã¨ã„ã†äº‹è±¡Aã¯ã€Œç¬¬ï¼‘ã®ç®±ã«ï¼ã“ã®ãƒœãƒ¼ãƒ«ãŒå…¥ã£ã¦ã„ã‚‹ã€ã®ä½™äº‹è±¡ã¨ãªã‚‹ã®ã§ $1 - \Pr(A^c)$ã§æ±‚ã¾ã‚‹ï¼ã—ãŸãŒã£ã¦ï¼Œ

$$
1 - \Pr(A^c) = 1 - \left(\frac{2}{3}\right)^3 = \frac{19}{27}
$$

ãŒç­”ãˆã¨ãªã‚‹ï¼

:::


<div style='padding-left: 2em; padding-right: 2em; border-radius: 0em; border-style:solid; border-color:#00008B;'>
::: {#exr-1 .custom_problem }
<br>

Aå›½ã®äººã¯10%ãŒrich, 7%ãŒfamous, 5%ãŒrich and famousã§ã‚ã‚‹ã“ã¨ãŒçŸ¥ã‚‰ã‚Œã¦ã„ã‚‹ï¼ã“ã®ã¨ãç„¡ä½œç‚ºã«é¸ã°ã‚ŒãŸï¼‘äººã«ã¤ã„ã¦ï¼Œä»¥ä¸‹ã®äº‹è±¡ã®ç¢ºç‡ã‚’æ±‚ã‚ã‚ˆ

1. $\Pr(\text{not rich})$ 
2. $\Pr(\text{rich but not famous})$
3. $\Pr(\text{rich or famous})$

:::

</div>

::: {.callout-note collapse="true" icon=false}
## Solution

<strong > &#9654;&nbsp; (1) $\Pr(\text{not rich})$ </strong>

äº‹è±¡richã‚’$R$ã¨è¡¨ã™ã¨ï¼Œäº‹è±¡not richã¯$R^c$ã¨è¡¨ã›ã‚‹ã®ã§

$$
\Pr(\text{not rich}) = 1 - \Pr(R) = 0.9
$$

<strong > &#9654;&nbsp; (2) $\Pr(\text{rich but not famous})$</strong>

äº‹è±¡famousã‚’$F$ã¨è¡¨ã™ã¨ï¼Œäº‹è±¡rich but not famousã¯$R \cap F^c$ï¼ã—ãŸãŒã£ã¦ï¼Œ

$$
\begin{align*}
\Pr(\text{rich but not famous}) &= \Pr(R \cap F^c)\\
                                &= \Pr(R \backslash F)\\
                                &= \Pr(R) - \Pr(R\cap F)\\
                                &= 0.1 - 0.05 = 0.05
\end{align*}
$$

<strong > &#9654;&nbsp; (3) $\Pr(\text{rich or famous})$</strong>

äº‹è±¡rich or famousã¯$R\cup F$ã¨è¡¨ç¾ã§ãã‚‹ã®ã§

$$
\Pr(\text{rich or famous}) = \Pr(R) + \Pr(F) - \Pr(R\cap F) = 0.12
$$

:::
